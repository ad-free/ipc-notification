# This file is a template, and might need editing before it works on your project.
# Official framework image. Look for the different tagged releases at:
# https://hub.docker.com/r/library/python
image: python:latest

services:
  - mongo:4.0.6

# variables:
#   - MONGO_INITDB_ROOT_USERNAME: root
#   - MONGO_INITDB_ROOT_PASSWORD: example

# This is a basic example for a gem or script which doesn't use
before_script:
  - pip install -r req.txt

stages:
  - init

init:
  stage: init
  services:
    - mongo:latest
  variables:
    MONGODB_URI: 'mongodb://127.0.0.1:27017/db_notification_uuid'
  script:
    - python manage.py test --pattern='login.py'
  only:
    - branches
